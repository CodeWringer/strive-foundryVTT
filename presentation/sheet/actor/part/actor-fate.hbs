{{!-- Parameters:
viewModel: {ActorFateViewModel}
cssClass: {undefined | String}
--}}
<section id="{{viewModel.id}}" class="auto-margin-v{{#if cssClass}} {{cssClass}}{{/if}}">
  <div class="grid-3col grid-gap-md">
    <div class="sheet-block flex flex-row flex-middle flex-right">
      {{#> label showFancyFont=viewModel.showFancyFont}}{{localize "system.character.driverSystem.fateSystem.fatePoints.minor.label"}}{{/label}}
      <div class="width-md flex-right">
        {{> inputNumberSpinner viewModel=viewModel.vmNsMifp }}
      </div>
    </div>
    <div class="sheet-block flex flex-row flex-middle flex-right">
      {{#> label showFancyFont=viewModel.showFancyFont}}{{localize "system.character.driverSystem.fateSystem.fatePoints.major.label"}}{{/label}}
      <div class="width-md flex-right">
        {{> inputNumberSpinner viewModel=viewModel.vmNsMafp }}
      </div>
    </div>
    <div class="sheet-block flex flex-row flex-middle flex-right">
      {{#> label showFancyFont=viewModel.showFancyFont}}{{localize "system.character.driverSystem.fateSystem.fatePoints.ambition.label"}}{{/label}}
      <div class="width-md flex-right">
        {{> inputNumberSpinner viewModel=viewModel.vmNsAfp }}
      </div>
    </div>
  </div>
  {{#if viewModel.hasExceededFateCardLimit}}
    {{#> admonishReadOnlyValue cssClass="pad-l-md pad-r-md" admonish=true}}{{localize "system.character.driverSystem.fateSystem.fateCard.limitExceededAdmonish"}}{{/admonishReadOnlyValue}}
  {{/if}}
  <div class="flex" style="flex-wrap: wrap;">
    {{#each viewModel.fateCards as |cardViewModel key|}}
    <div class="fate-card-actor-container">
      {{#with ../viewModel.fateCardTemplate as | template |}}
        {{> (template) viewModel=cardViewModel }}
      {{/with}}
    </div>
    {{/each}}
    {{#times viewModel.remainingSlots}}
      <div class="fate-card-actor-container fate-card flex flex-center">
        {{> buttonAdd viewModel=../viewModel.vmBtnAddFateCard fill=true cssClass="font-size-xl" }}
      </div>
    {{/times}}
  </div>
</section>